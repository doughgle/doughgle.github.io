<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.109.0"><link rel=icon href=/images/icon.jpg><title>How to Enable HDMI on Thinkpad X1 Extreme Gen 4 | Douglas Hellinger</title><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.douglashellinger.com/how-to/enable-hdmi-on-thinkpad-x1-extreme-gen-4/check-device-power-cover.png"><meta name=twitter:title content="How to Enable HDMI on Thinkpad X1 Extreme Gen 4"><meta name=twitter:description content="You&rsquo;re running Ubuntu on a Thinkpad X1 Extreme (Gen 4). You wanna use HDMI, but the TV or monitor says something like &ldquo;Check Device Power&rdquo;."><meta property="og:title" content="How to Enable HDMI on Thinkpad X1 Extreme Gen 4"><meta property="og:description" content="You&rsquo;re running Ubuntu on a Thinkpad X1 Extreme (Gen 4). You wanna use HDMI, but the TV or monitor says something like &ldquo;Check Device Power&rdquo;."><meta property="og:type" content="article"><meta property="og:url" content="https://www.douglashellinger.com/how-to/enable-hdmi-on-thinkpad-x1-extreme-gen-4/"><meta property="og:image" content="https://www.douglashellinger.com/how-to/enable-hdmi-on-thinkpad-x1-extreme-gen-4/check-device-power-cover.png"><meta property="article:section" content="how-to"><meta property="article:published_time" content="2022-12-19T12:30:00+00:00"><meta property="article:modified_time" content="2022-12-13T14:32:17+00:00"><link href=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css rel=stylesheet integrity=sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.0.13/css/all.css integrity=sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel=stylesheet><link rel=stylesheet href=https://www.douglashellinger.com/css/medium.a3d5489836b19de22a81ddc6bd21c17547d07529e67b266427378a04fa3ea727.css integrity="sha256-o9VImDaxneIqgd3GvSHBdUfQdSnmeyZkJzeKBPo+pyc="><link rel=stylesheet href=https://www.douglashellinger.com/css/additional.8819b6defcdc6d21280f9b402b00df87ca779135901de6c22e708c62e20184b9.css integrity="sha256-iBm23vzcbSEoD5tAKwDfh8p3kTWQHebCLnCMYuIBhLk="></head><body><nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down"><div class="container pr-0"><a class=navbar-brand href=https://www.douglashellinger.com/><img src=/images/icon.jpg alt=logo></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarMediumish aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarMediumish><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/blog>Blog</a></li><li class=nav-item><a class=nav-link href=/how-to>How to Guides</a></li><li class=nav-item><a class=nav-link href=/>About</a></li></ul></div></div></nav><div class=site-content><div class=container><div class=mainheading><h1 class=sitetitle>Douglas Hellinger</h1><p class=lead>Helping you have fun and maximise impact by learning containers and kubernetes!</p></div><div class=main-content><div class=container><div class=row><div class="col-md-2 pl-0"><div class="share sticky-top sticky-top-offset"><p>Share</p><ul><li class="ml-1 mr-1"><a target=_blank href="https://twitter.com/intent/tweet?text=How%20to%20Enable%20HDMI%20on%20Thinkpad%20X1%20Extreme%20Gen%204&url=https%3a%2f%2fwww.douglashellinger.com%2fhow-to%2fenable-hdmi-on-thinkpad-x1-extreme-gen-4%2f" onclick='return window.open(this.href,"twitter-share","width=550,height=435"),!1'><i class="fab fa-twitter"></i></a></li><li class="ml-1 mr-1"><a target=_blank href="https://facebook.com/sharer.php?u=https%3a%2f%2fwww.douglashellinger.com%2fhow-to%2fenable-hdmi-on-thinkpad-x1-extreme-gen-4%2f" onclick='return window.open(this.href,"facebook-share","width=550,height=435"),!1'><i class="fab fa-facebook-f"></i></a></li><li class="ml-1 mr-1"><a target=_blank href="https://www.xing.com/spi/shares/new?url=https%3a%2f%2fwww.douglashellinger.com%2fhow-to%2fenable-hdmi-on-thinkpad-x1-extreme-gen-4%2f" onclick='return window.open(this.href,"xing-share","width=550,height=435"),!1'><i class="fab fa-xing"></i></a></li></ul><div class=sep></div><ul><li><a class="small smoothscroll" href=#disqus_thread></a></li></ul></div></div><div class="col-md-9 flex-first flex-md-unordered"><div class=mainheading><div class="row post-top-meta"><div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0 md-nopad-right"><img class=author-thumb src=/images/profile.jpg alt="Douglas Hellinger"></div><div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left md-nopad-left"><a target=_blank class=link-dark>Douglas Hellinger</a><br><span class=author-description>Creator of this blog.<br><i class="far fa-star"></i>
Dec 19, 2022
<i class="far fa-clock clock"></i>
10 min read</span></div></div><h1 class=posttitle>How to Enable HDMI on Thinkpad X1 Extreme Gen 4</h1></div><img class="featured-image img-fluid" src=https://www.douglashellinger.com/how-to/enable-hdmi-on-thinkpad-x1-extreme-gen-4/check-device-power-cover.png alt="thumbnail for this post"><div class=article-post><p><strong>You&rsquo;re running Ubuntu on a Thinkpad X1 Extreme (Gen 4). You wanna use HDMI, but the TV or monitor says something like &ldquo;Check Device Power&rdquo;.</strong></p><h2 id=1-check-the-hardware-details>1. Check the hardware details</h2><h3 id=list-video-devices>List Video Devices</h3><p>The Thinkpad X1 Extreme Gen 4 has two video devices: nVidia GeForce RTX 3050 Ti Mobile and Intel TigerLake-H GT1 UHD Graphics.</p><p>If you need to reassure yourself, its a <a href=https://ubuntu.com/certified/202107-29296/20.04%20LTS>Ubuntu Certified Laptop</a>.</p><p>You can list video devices like this (no real need for sudo):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ lshw -C video
</span></span><span style=display:flex><span>  *-display            
</span></span><span style=display:flex><span>       description: VGA compatible controller
</span></span><span style=display:flex><span>       product: NVIDIA Corporation
</span></span><span style=display:flex><span>       vendor: NVIDIA Corporation
</span></span><span style=display:flex><span>       physical id: <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>       bus info: pci@0000:01:00.0
</span></span><span style=display:flex><span>       version: a1
</span></span><span style=display:flex><span>       width: <span style=color:#ae81ff>64</span> bits
</span></span><span style=display:flex><span>       clock: 33MHz
</span></span><span style=display:flex><span>       capabilities: vga_controller bus_master cap_list rom
</span></span><span style=display:flex><span>       configuration: driver<span style=color:#f92672>=</span>nouveau latency<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>       resources: iomemory:600-5ff iomemory:610-60f irq:201 memory:9d000000-9dffffff memory:6000000000-60ffffffff memory:6100000000-6101ffffff ioport:3000<span style=color:#f92672>(</span>size<span style=color:#f92672>=</span>128<span style=color:#f92672>)</span> memory:9e080000-9e0fffff
</span></span><span style=display:flex><span>  *-display
</span></span><span style=display:flex><span>       description: VGA compatible controller
</span></span><span style=display:flex><span>       product: Intel Corporation
</span></span><span style=display:flex><span>       vendor: Intel Corporation
</span></span><span style=display:flex><span>       physical id: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>       bus info: pci@0000:00:02.0
</span></span><span style=display:flex><span>       version: <span style=color:#ae81ff>01</span>
</span></span><span style=display:flex><span>       width: <span style=color:#ae81ff>64</span> bits
</span></span><span style=display:flex><span>       clock: 33MHz
</span></span><span style=display:flex><span>       capabilities: vga_controller bus_master cap_list rom
</span></span><span style=display:flex><span>       configuration: driver<span style=color:#f92672>=</span>i915 latency<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>       resources: iomemory:610-60f iomemory:400-3ff irq:202 memory:614c000000-614cffffff memory:4000000000-400fffffff ioport:4000<span style=color:#f92672>(</span>size<span style=color:#f92672>=</span>64<span style=color:#f92672>)</span> memory:c0000-dffff memory:4010000000-4016ffffff memory:4020000000-40ffffffff
</span></span></code></pre></div><p>For the nVidia device, notice the <code>driver</code> in the <code>configuration:</code> section. The nVidia hardware connects to the HDMI port on the laptop and the driver and version makes a difference.</p><h3 id=list-monitors>List Monitors</h3><p><code>xrandr</code> can tell you which monitors (or TVs) are connected.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ xrandr --listmonitors 
</span></span><span style=display:flex><span>Monitors: <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span> 0: +*eDP-1 1920/344x1200/215+0+0  eDP-1
</span></span><span style=display:flex><span> 1: +DVI-I-2-1 1920/527x1080/296+1920+120  DVI-I-2-1
</span></span></code></pre></div><p>Here, I have an external monitor connected through a docking station. That uses the DisplayLink driver. That was another troubleshooting journey that deserves its own how to guide!</p><h2 id=2-check-which-video-driver-is-loaded>2. Check which Video Driver is Loaded</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ lsmod | grep vid
</span></span><span style=display:flex><span>uvcvideo              <span style=color:#ae81ff>106496</span>  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>videobuf2_vmalloc      <span style=color:#ae81ff>20480</span>  <span style=color:#ae81ff>1</span> uvcvideo
</span></span><span style=display:flex><span>videobuf2_memops       <span style=color:#ae81ff>20480</span>  <span style=color:#ae81ff>1</span> videobuf2_vmalloc
</span></span><span style=display:flex><span>videobuf2_v4l2         <span style=color:#ae81ff>32768</span>  <span style=color:#ae81ff>1</span> uvcvideo
</span></span><span style=display:flex><span>videobuf2_common       <span style=color:#ae81ff>61440</span>  <span style=color:#ae81ff>4</span> videobuf2_vmalloc,videobuf2_v4l2,uvcvideo,videobuf2_memops
</span></span><span style=display:flex><span>videodev              <span style=color:#ae81ff>237568</span>  <span style=color:#ae81ff>3</span> videobuf2_v4l2,uvcvideo,videobuf2_common
</span></span><span style=display:flex><span>mc                     <span style=color:#ae81ff>57344</span>  <span style=color:#ae81ff>5</span> videodev,snd_usb_audio,videobuf2_v4l2,uvcvideo,videobuf2_common
</span></span><span style=display:flex><span>video                  <span style=color:#ae81ff>53248</span>  <span style=color:#ae81ff>3</span> thinkpad_acpi,i915,nouveau
</span></span></code></pre></div><p>If <code>nouveau</code> is loaded, Ubuntu Settings -> Displays may detect the HDMI display, but its too laggy to use! I tried Join, Mirror and Single display, but I wasn&rsquo;t able to find a resolution that worked.</p><h2 id=3-check-which-video-driver-is-recommended>3. Check which Video Driver is Recommended</h2><p>Following this excellent <a href=https://linuxconfig.org/how-to-install-the-nvidia-drivers-on-ubuntu-20-04-focal-fossa-linux>nvidia drivers on Ubuntu guide</a>, I found its simple to use the <code>ubuntu-drivers</code> utility.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ubuntu-drivers devices
</span></span><span style=display:flex><span><span style=color:#f92672>==</span> /sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0 <span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>modalias : pci:v000010DEd000025A0sv000017AAsd000022E4bc03sc00i00
</span></span><span style=display:flex><span>vendor   : NVIDIA Corporation
</span></span><span style=display:flex><span>driver   : nvidia-driver-525 - distro non-free
</span></span><span style=display:flex><span>driver   : nvidia-driver-525-open - distro non-free recommended
</span></span><span style=display:flex><span>driver   : nvidia-driver-515 - distro non-free
</span></span><span style=display:flex><span>driver   : nvidia-driver-510 - distro non-free
</span></span><span style=display:flex><span>driver   : nvidia-driver-470-server - distro non-free
</span></span><span style=display:flex><span>driver   : nvidia-driver-515-server - distro non-free
</span></span><span style=display:flex><span>driver   : nvidia-driver-515-open - distro non-free
</span></span><span style=display:flex><span>driver   : xserver-xorg-video-nouveau - distro free builtin
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>==</span> /sys/devices/virtual/dmi/id <span style=color:#f92672>==</span>
</span></span><span style=display:flex><span>modalias : dmi:bvnLENOVO:bvrN40ET33W<span style=color:#f92672>(</span>1.15<span style=color:#f92672>)</span>:bd02/24/2022:br1.15:efr1.15:svnLENOVO:pn20Y5000PSG:pvrThinkPadX1ExtremeGen4i:rvnLENOVO:rn20Y5000PSG:rvrSDK0J40697WIN:cvnLENOVO:ct10:cvrNone:skuLENOVO_MT_20Y5_BU_Think_FM_ThinkPadX1ExtremeGen4i:
</span></span><span style=display:flex><span>driver   : oem-sutton.simon-baba-meta - third-party free
</span></span></code></pre></div><p>It lists the compatible drivers and highlights the <code>recommended</code> driver.</p><h2 id=4-install-the-recommended-driver>4. Install the Recommended Driver</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo ubuntu-drivers autoinstall
</span></span></code></pre></div><p><details><summary>Output of ubuntu-drivers autoinstall</summary><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>sudo<span style=color:#f92672>]</span> password <span style=color:#66d9ef>for</span> dough: 
</span></span><span style=display:flex><span>Reading package lists... Done
</span></span><span style=display:flex><span>Building dependency tree       
</span></span><span style=display:flex><span>Reading state information... Done
</span></span><span style=display:flex><span>The following packages were automatically installed and are no longer required:
</span></span><span style=display:flex><span>  libcgi-fast-perl libcgi-pm-perl libfcgi-perl libhtml-tagcloud-perl libhttp-server-simple-perl libsass1
</span></span><span style=display:flex><span>Use <span style=color:#e6db74>&#39;sudo apt autoremove&#39;</span> to remove them.
</span></span><span style=display:flex><span>The following additional packages will be installed:
</span></span><span style=display:flex><span>  nvidia-compute-utils-525 nvidia-kernel-common-525 nvidia-kernel-source-525-open nvidia-prime nvidia-settings nvidia-utils-525
</span></span><span style=display:flex><span>Suggested packages:
</span></span><span style=display:flex><span>  nvidia-driver-525
</span></span><span style=display:flex><span>The following NEW packages will be installed:
</span></span><span style=display:flex><span>  nvidia-compute-utils-525 nvidia-dkms-525-open nvidia-driver-525-open nvidia-kernel-common-525 nvidia-kernel-source-525-open nvidia-prime nvidia-settings nvidia-utils-525
</span></span><span style=display:flex><span><span style=color:#ae81ff>0</span> upgraded, <span style=color:#ae81ff>8</span> newly installed, <span style=color:#ae81ff>0</span> to remove and <span style=color:#ae81ff>52</span> not upgraded.
</span></span><span style=display:flex><span>Need to get <span style=color:#ae81ff>0</span> B/45.6 MB of archives.
</span></span><span style=display:flex><span>After this operation, 84.4 MB of additional disk space will be used.
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-compute-utils-525.
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>Reading database ... <span style=color:#ae81ff>430983</span> files and directories currently installed.<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Preparing to unpack .../0-nvidia-compute-utils-525_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-compute-utils-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-kernel-source-525-open.
</span></span><span style=display:flex><span>Preparing to unpack .../1-nvidia-kernel-source-525-open_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-kernel-source-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-kernel-common-525.
</span></span><span style=display:flex><span>Preparing to unpack .../2-nvidia-kernel-common-525_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-kernel-common-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-dkms-525-open.
</span></span><span style=display:flex><span>Preparing to unpack .../3-nvidia-dkms-525-open_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-dkms-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-utils-525.
</span></span><span style=display:flex><span>Preparing to unpack .../4-nvidia-utils-525_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-utils-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-driver-525-open.
</span></span><span style=display:flex><span>Preparing to unpack .../5-nvidia-driver-525-open_525.60.11-0ubuntu0.20.04.2_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-driver-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-prime.
</span></span><span style=display:flex><span>Preparing to unpack .../6-nvidia-prime_0.8.16~0.20.04.2_all.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-prime <span style=color:#f92672>(</span>0.8.16~0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Selecting previously unselected package nvidia-settings.
</span></span><span style=display:flex><span>Preparing to unpack .../7-nvidia-settings_470.57.01-0ubuntu0.20.04.3_amd64.deb ...
</span></span><span style=display:flex><span>Unpacking nvidia-settings <span style=color:#f92672>(</span>470.57.01-0ubuntu0.20.04.3<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Setting up nvidia-utils-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Setting up nvidia-compute-utils-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Warning: The home dir /nonexistent you specified can<span style=color:#e6db74>&#39;t be accessed: No such file or directory
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Adding system user `nvidia-persistenced&#39;</span> <span style=color:#f92672>(</span>UID 127<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Adding new group <span style=color:#e6db74>`</span>nvidia-persistenced<span style=color:#e6db74>&#39; (GID 135) ...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Adding new user `nvidia-persistenced&#39;</span> <span style=color:#f92672>(</span>UID 127<span style=color:#f92672>)</span> with group <span style=color:#e6db74>`</span>nvidia-persistenced<span style=color:#e6db74>&#39; ...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Not creating home directory `/nonexistent&#39;</span>.
</span></span><span style=display:flex><span>Setting up nvidia-prime <span style=color:#f92672>(</span>0.8.16~0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Setting up nvidia-kernel-source-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Setting up nvidia-kernel-common-525 <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>update-initramfs: deferring update <span style=color:#f92672>(</span>trigger activated<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>update-initramfs: Generating /boot/initrd.img-5.14.0-1054-oem
</span></span><span style=display:flex><span>I: The initramfs will attempt to resume from /dev/nvme1n1p8
</span></span><span style=display:flex><span>I: <span style=color:#f92672>(</span>UUID<span style=color:#f92672>=</span>cebc6c38-5df2-49f4-96aa-2a186bcebe38<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>I: Set the RESUME variable to override this.
</span></span><span style=display:flex><span>Created symlink /etc/systemd/system/systemd-hibernate.service.wants/nvidia-hibernate.service → /lib/systemd/system/nvidia-hibernate.service.
</span></span><span style=display:flex><span>Created symlink /etc/systemd/system/systemd-suspend.service.wants/nvidia-resume.service → /lib/systemd/system/nvidia-resume.service.
</span></span><span style=display:flex><span>Created symlink /etc/systemd/system/systemd-hibernate.service.wants/nvidia-resume.service → /lib/systemd/system/nvidia-resume.service.
</span></span><span style=display:flex><span>Created symlink /etc/systemd/system/systemd-suspend.service.wants/nvidia-suspend.service → /lib/systemd/system/nvidia-suspend.service.
</span></span><span style=display:flex><span>Setting up nvidia-settings <span style=color:#f92672>(</span>470.57.01-0ubuntu0.20.04.3<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Setting up nvidia-dkms-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>update-initramfs: deferring update <span style=color:#f92672>(</span>trigger activated<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>update-initramfs: Generating /boot/initrd.img-5.14.0-1054-oem
</span></span><span style=display:flex><span>I: The initramfs will attempt to resume from /dev/nvme1n1p8
</span></span><span style=display:flex><span>I: <span style=color:#f92672>(</span>UUID<span style=color:#f92672>=</span>cebc6c38-5df2-49f4-96aa-2a186bcebe38<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>I: Set the RESUME variable to override this.
</span></span><span style=display:flex><span>INFO:Enable nvidia
</span></span><span style=display:flex><span>DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/dell_latitude
</span></span><span style=display:flex><span>DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/lenovo_thinkpad
</span></span><span style=display:flex><span>DEBUG:Parsing /usr/share/ubuntu-drivers-common/quirks/put_your_quirks_here
</span></span><span style=display:flex><span>Loading new nvidia-525.60.11 DKMS files...
</span></span><span style=display:flex><span>Building <span style=color:#66d9ef>for</span> 5.14.0-1054-oem 5.15.0-56-generic
</span></span><span style=display:flex><span>Building <span style=color:#66d9ef>for</span> architecture x86_64
</span></span><span style=display:flex><span>Building initial module <span style=color:#66d9ef>for</span> 5.14.0-1054-oem
</span></span><span style=display:flex><span>Secure Boot not enabled on this system.
</span></span><span style=display:flex><span>Done.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.14.0-1054-oem/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-modeset.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.14.0-1054-oem/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-drm.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.14.0-1054-oem/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-uvm.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.14.0-1054-oem/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-peermem.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.14.0-1054-oem/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>depmod...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DKMS: install completed.
</span></span><span style=display:flex><span>Building initial module <span style=color:#66d9ef>for</span> 5.15.0-56-generic
</span></span><span style=display:flex><span>Secure Boot not enabled on this system.
</span></span><span style=display:flex><span>Done.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.15.0-56-generic/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-modeset.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.15.0-56-generic/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-drm.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.15.0-56-generic/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-uvm.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.15.0-56-generic/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nvidia-peermem.ko:
</span></span><span style=display:flex><span>Running module version sanity check.
</span></span><span style=display:flex><span> - Original module
</span></span><span style=display:flex><span>   - No original module exists within this kernel
</span></span><span style=display:flex><span> - Installation
</span></span><span style=display:flex><span>   - Installing to /lib/modules/5.15.0-56-generic/updates/dkms/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>depmod...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>DKMS: install completed.
</span></span><span style=display:flex><span>Setting up nvidia-driver-525-open <span style=color:#f92672>(</span>525.60.11-0ubuntu0.20.04.2<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> mime-support <span style=color:#f92672>(</span>3.64ubuntu1<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> gnome-menus <span style=color:#f92672>(</span>3.36.0-1ubuntu1<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> libc-bin <span style=color:#f92672>(</span>2.31-0ubuntu9.9<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> man-db <span style=color:#f92672>(</span>2.9.1-1<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> desktop-file-utils <span style=color:#f92672>(</span>0.24-1ubuntu3<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>Processing triggers <span style=color:#66d9ef>for</span> initramfs-tools <span style=color:#f92672>(</span>0.136ubuntu6.7<span style=color:#f92672>)</span> ...
</span></span><span style=display:flex><span>update-initramfs: Generating /boot/initrd.img-5.15.0-56-generic
</span></span><span style=display:flex><span>I: The initramfs will attempt to resume from /dev/nvme1n1p8
</span></span><span style=display:flex><span>I: <span style=color:#f92672>(</span>UUID<span style=color:#f92672>=</span>cebc6c38-5df2-49f4-96aa-2a186bcebe38<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>I: Set the RESUME variable to override this.
</span></span><span style=display:flex><span>Trying to <span style=color:#66d9ef>select</span> the on-demand PRIME profile
</span></span><span style=display:flex><span>Info: selecting the on-demand profile
</span></span><span style=display:flex><span>Writing /lib/modprobe.d/nvidia-runtimepm.conf
</span></span><span style=display:flex><span>Updating the initramfs. Please wait <span style=color:#66d9ef>for</span> the operation to complete:
</span></span><span style=display:flex><span>Done
</span></span></code></pre></div></details></p><p>Note that the driver is installed into <code>/lib/modules</code> for one or more versions of the kernel and an initramfs image is updated.</p><p>You can check the kernel revision that&rsquo;s currently running with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ uname -r
</span></span><span style=display:flex><span>5.14.0-1054-oem
</span></span></code></pre></div><p>And the initramfs images on the system with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ ll -lrt /boot/initrd.img*
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>69290227</span> Aug <span style=color:#ae81ff>29</span> 03:36 /boot/initrd.img-5.13.0-52-generic
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>57521708</span> Aug <span style=color:#ae81ff>29</span> 03:36 /boot/initrd.img-5.4.0-104-generic
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>57521719</span> Aug <span style=color:#ae81ff>29</span> 03:36 /boot/initrd.img-5.4.0-100-generic
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>57519017</span> Aug <span style=color:#ae81ff>29</span> 03:37 /boot/initrd.img-5.4.0-99-generic
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root       <span style=color:#ae81ff>28</span> Dec  <span style=color:#ae81ff>4</span> 06:30 /boot/initrd.img.old -&gt; initrd.img-5.15.0-56-generic
</span></span><span style=display:flex><span>lrwxrwxrwx <span style=color:#ae81ff>1</span> root root       <span style=color:#ae81ff>28</span> Dec  <span style=color:#ae81ff>4</span> 06:30 /boot/initrd.img -&gt; initrd.img-5.4.0-135-generic
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>57506534</span> Dec  <span style=color:#ae81ff>4</span> 06:30 /boot/initrd.img-5.4.0-135-generic
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>64417152</span> Dec  <span style=color:#ae81ff>6</span> 13:21 /boot/initrd.img-5.14.0-1054-oem
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> root root <span style=color:#ae81ff>74635959</span> Dec  <span style=color:#ae81ff>6</span> 13:22 /boot/initrd.img-5.15.0-56-generic
</span></span></code></pre></div><h2 id=5-reboot-the-system>5. Reboot the System</h2><p>After installing, reboot:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo reboot
</span></span></code></pre></div><h2 id=6-verify-the-nvidia-driver-is-loaded>6. Verify the nVidia Driver is Loaded</h2><p>List the kernel modules that are loaded. For the <code>video</code> driver, <code>nouveau</code> should be absent. <code>nvidia</code> should be loaded instead. You can&rsquo;t have both loaded.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ lsmod | grep vid
</span></span><span style=display:flex><span>nvidia_uvm           <span style=color:#ae81ff>1249280</span>  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>nvidia_drm             <span style=color:#ae81ff>61440</span>  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>nvidia_modeset       <span style=color:#ae81ff>1359872</span>  <span style=color:#ae81ff>1</span> nvidia_drm
</span></span><span style=display:flex><span>uvcvideo              <span style=color:#ae81ff>106496</span>  <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>videobuf2_vmalloc      <span style=color:#ae81ff>20480</span>  <span style=color:#ae81ff>1</span> uvcvideo
</span></span><span style=display:flex><span>videobuf2_memops       <span style=color:#ae81ff>20480</span>  <span style=color:#ae81ff>1</span> videobuf2_vmalloc
</span></span><span style=display:flex><span>videobuf2_v4l2         <span style=color:#ae81ff>32768</span>  <span style=color:#ae81ff>1</span> uvcvideo
</span></span><span style=display:flex><span>videobuf2_common       <span style=color:#ae81ff>61440</span>  <span style=color:#ae81ff>4</span> videobuf2_vmalloc,videobuf2_v4l2,uvcvideo,videobuf2_memops
</span></span><span style=display:flex><span>nvidia               <span style=color:#ae81ff>5910528</span>  <span style=color:#ae81ff>8</span> nvidia_uvm,nvidia_modeset
</span></span><span style=display:flex><span>videodev              <span style=color:#ae81ff>237568</span>  <span style=color:#ae81ff>3</span> videobuf2_v4l2,uvcvideo,videobuf2_common
</span></span><span style=display:flex><span>mc                     <span style=color:#ae81ff>57344</span>  <span style=color:#ae81ff>5</span> videodev,snd_usb_audio,videobuf2_v4l2,uvcvideo,videobuf2_common
</span></span><span style=display:flex><span>drm_kms_helper        <span style=color:#ae81ff>258048</span>  <span style=color:#ae81ff>3</span> evdi,nvidia_drm,i915
</span></span><span style=display:flex><span>drm                   <span style=color:#ae81ff>557056</span>  <span style=color:#ae81ff>32</span> drm_kms_helper,evdi,nvidia,nvidia_drm,i915,ttm
</span></span><span style=display:flex><span>video                  <span style=color:#ae81ff>53248</span>  <span style=color:#ae81ff>2</span> thinkpad_acpi,i915
</span></span></code></pre></div><p>You can dig deeper on the module info with <code>modinfo</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ modinfo nvidia
</span></span><span style=display:flex><span>filename:       /lib/modules/5.14.0-1054-oem/updates/dkms/nvidia.ko
</span></span><span style=display:flex><span>firmware:       nvidia/525.60.11/gsp_tu10x.bin
</span></span><span style=display:flex><span>firmware:       nvidia/525.60.11/gsp_ad10x.bin
</span></span><span style=display:flex><span>import_ns:      DMA_BUF
</span></span><span style=display:flex><span>alias:          char-major-195-*
</span></span><span style=display:flex><span>version:        525.60.11
</span></span><span style=display:flex><span>supported:      external
</span></span><span style=display:flex><span>license:        Dual MIT/GPL
</span></span></code></pre></div><p>Here we can see the driver is the open source under MIT/GPL license and version 525.60.11. The Open GPU Kernel Modules source code can be found <a href=https://github.com/NVIDIA/open-gpu-kernel-modules>here</a>.</p><p>Alternatively, you can launch the Additional Drivers settings:</p><p><img src=additional-drivers.png alt="Ubuntu Additional Drivers configuration" title="Using open source nVidia GPU driver"></p><h2 id=7-verify-the-nvidia-driver-is-working>7. Verify the nVidia Driver is Working</h2><p>The driver may be loaded, but is it working correctly?
Open the nvidia settings in read-only mode (i.e. non-sudo)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ nvidia-settings 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ERROR: A query to find an object was unsuccessful
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ERROR: Unable to load info from any available system
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>nvidia-settings:9747<span style=color:#f92672>)</span>: GLib-GObject-CRITICAL **: 13:54:16.126: g_object_unref: assertion <span style=color:#e6db74>&#39;G_IS_OBJECT (object)&#39;</span> failed
</span></span><span style=display:flex><span>** Message: 13:54:16.128: PRIME: Requires offloading
</span></span><span style=display:flex><span>** Message: 13:54:16.128: PRIME: is it supported? yes
</span></span><span style=display:flex><span>** Message: 13:54:16.145: PRIME: Usage: /usr/bin/prime-select nvidia|intel|on-demand|query
</span></span><span style=display:flex><span>** Message: 13:54:16.145: PRIME: on-demand mode: <span style=color:#e6db74>&#34;1&#34;</span>
</span></span><span style=display:flex><span>** Message: 13:54:16.145: PRIME: is <span style=color:#e6db74>&#34;on-demand&#34;</span> mode supported? yes
</span></span></code></pre></div><p>The errors are a sign that the driver isn&rsquo;t working correctly with the system&rsquo;s nVidia chip.</p><p>Analysing <code>/var/log/syslog</code>, we can see the following error message:</p><pre tabindex=0><code>Dec  6 13:40:49 k3yl0gger kernel: [    7.039628] NVRM: loading NVIDIA UNIX Open Kernel Module for x86_64  525.60.11  Release Build  (dvs-builder@U16-T01-9-2)  Wed Nov 23 23:04:11 UTC 2022
Dec  6 13:40:49 k3yl0gger kernel: [    7.101947] NVRM objClInitPcieChipset: *** Chipset Setup Function Error!
Dec  6 13:40:49 k3yl0gger kernel: [    9.062105] NVRM: Open nvidia.ko is only ready for use on Data Center GPUs.
Dec  6 13:40:49 k3yl0gger kernel: [    9.062106] NVRM: To force use of Open nvidia.ko on other GPUs, see the
Dec  6 13:40:49 k3yl0gger kernel: [    9.062107] NVRM: &#39;OpenRmEnableUnsupportedGpus&#39; kernel module parameter described
Dec  6 13:40:49 k3yl0gger kernel: [    9.062107] NVRM: in the README.
</code></pre><p>The message is saying that the open nvidia.ko (v 525.60.11) only support data centre GPUs and other GPUs are unsupported. It also says you can enable unsupported GPUs and refers to the driver README.</p><p>For our case, <code>ubuntu-drivers</code> recommended it and the <a href=https://github.com/NVIDIA/open-gpu-kernel-modules/tree/525.60.11#compatible-gpus>Compatible GPUs</a> section of the README says that
GeForce RTX 3050 Ti Mobile (PCI Device ID: 25a0) is indeed compatible.</p><h2 id=8-enable-unsupported-gpus>8. Enable Unsupported GPUs</h2><p>Change to root user and create the <code>nvidia.conf</code> modprobe configuration file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo su
</span></span><span style=display:flex><span><span style=color:#75715e># echo &#39;options nvidia NVreg_OpenRmEnableUnsupportedGpus=1&#39; &gt; /etc/modprobe.d/nvidia.conf</span>
</span></span></code></pre></div><p>Reboot</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ sudo reboot
</span></span></code></pre></div><p>Now open <code>nvidia-settings</code> (in read-only mode) from the command line:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ nvidia-settings 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>nvidia-settings:82004<span style=color:#f92672>)</span>: GLib-GObject-CRITICAL **: 14:58:55.302: g_object_unref: assertion <span style=color:#e6db74>&#39;G_IS_OBJECT (object)&#39;</span> failed
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>ERROR: nvidia-settings could not find the registry key file or the X server is not accessible. This file should have been installed along with this driver at
</span></span><span style=display:flex><span>       /usr/share/nvidia/nvidia-application-profiles-key-documentation. The application profiles will <span style=color:#66d9ef>continue</span> to work, but values cannot be prepopulated or validated, and will not be listed in the help text.
</span></span><span style=display:flex><span>       Please see the README <span style=color:#66d9ef>for</span> possible values and descriptions.
</span></span></code></pre></div><p>Or alternatively from the launcher &ldquo;NVIDIA X Server Settings&rdquo;:</p><p><img src=nvidia-settings.png alt="nvidia settings on Thinkpad X1 Extreme Gen 4" title="GPU: plenty of slack"></p><p>If you can see the &ldquo;GPU 0&rdquo; and stats, you&rsquo;re done.</p><p>Now connect your HDMI device and go to Settings -> Displays to configure the resolution and layout.</p><p><img src=displays.png alt="Ubuntu Settings -> Displays on Thinkpad X1 Extreme Gen 4" title="Dual displays: Plug and Play-around-until-it-works"></p><hr><h2 id=troubleshooting>Troubleshooting</h2><h3 id=blank-screen-after-booting-ubuntu>Blank screen after booting Ubuntu</h3><p>This may happen if the wrong nvidia driver or version is installed.</p><ol><li>Boot to recovery mode.</li><li>Enable networking.</li><li>Drop to root shell.</li><li>Check if nvidia driver is loaded <code>lsmod | grep nvidia</code></li><li>Uninstall purge nvidia packages.</li><li>Reboot</li><li>Plug hdmi cable</li><li>Mirror display</li></ol><p>Refer to steps from <a href=https://askubuntu.com/a/1245075/278849>https://askubuntu.com/a/1245075/278849</a></p></div><div class=after-post-tags><ul class=tags><li><a href=/tags/thinkpad>thinkpad</a></li><li><a href=/tags/ubuntu>ubuntu</a></li></ul></div><div class="row PageNavigation d-flex justify-content-between font-weight-bold"><div class=clearfix></div></div></div></div></div><div class=container><div id=comments class="row justify-content-center mb-5"><div class=col-md-8></div></div></div></div></div><div class="jumbotron fortags"><div class="d-md-flex h-100"><div class="col-md-4 transpdark align-self-center text-center h-100"><div class="d-md-flex align-items-center justify-content-center h-100"><h2 class="d-md-block d-none align-self-center py-1 font-weight-light">Explore <span class="d-none d-md-inline">→</span></h2></div></div><div class="col-md-8 p-5 align-self-center text-center"><a class="mt-1 mb-1" href=/tags/cloud>cloud</a>
<a class="mt-1 mb-1" href=/tags/encryption>encryption</a>
<a class="mt-1 mb-1" href=/tags/security>security</a>
<a class="mt-1 mb-1" href=/tags/thinkpad>thinkpad</a>
<a class="mt-1 mb-1" href=/tags/troubleshooting>troubleshooting</a>
<a class="mt-1 mb-1" href=/tags/ubuntu>ubuntu</a></div></div></div><footer class=footer><div class=container><div class=row><div class="col-md-6 col-sm-6 text-center text-lg-left">&copy; Copyright Douglas Hellinger 2022</div><div class="col-md-6 col-sm-6 text-center text-lg-right"><a target=_blank rel=noopener href=https://www.wowthemes.net>Mediumish Theme</a> by WowThemes.net</div></div></div></footer></div><script src=https://code.jquery.com/jquery-3.4.1.min.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js integrity=sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js integrity=sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM crossorigin=anonymous></script>
<script src=https://www.douglashellinger.com/js/mediumish.84218587c174fd40bce82544b98851670f0b124a7324b349c54a4065e2b32ffc.js integrity="sha256-hCGFh8F0/UC86CVEuYhRZw8LEkpzJLNJxUpAZeKzL/w="></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TEH3VGXMRY"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-TEH3VGXMRY",{anonymize_ip:!1})}</script></body></html>